<!DOCTYPE html>
<html lang="en_US">
  <head>
    <meta charset="utf-8">
    <title>LogDoctor - Aiuto</title>
    <style type="text/css">
      body {
        color: $TEXT$;
        font-size: 19px;
        background-color: $BG$;
      }
      h1 {
        color: $H1$;
      }
      h2 {
        color: $BG$;
        background-color: $H1$;
      }
      h3 {
        color: $H3$;
      }
      th,td {
        padding: 20px;
      }
      code {
        color: $CODE$;
        font-size: 17px;
        padding-left:16px
      }
      i {
        color: $IT$;
      }
      a {
        color: $LINK$;
      }
    </style>
  </head>
  <body>

    <br>
    <h1 align="center">IIS</h1>
    <br>
    <br>
    <br>
    <h2 align="center"><br>Stringa di formato per i log di accesso</h2>
    <br>
    <h3><br>File di configurazione</h3>
    <br>
    <p>Il file di configurazione è generalmente:</p><br>
      <code>C:\inetpub\logs\LogFiles\&lt;YourSiteName&gt;</code>
    <br>
    <p>I log di accesso possono essere configurati tramite il <i>Gestore IIS</i>.<br>
    Per aprire il Gestore IIS, vai in <code>Pannello di controllo</code><i>→</i><code>Strumenti di amministrazione</code><i>→</i><code></code><i>→</i><code>Internet Informations Service (IIS) Manager</code>.<br>
    Una volta entrato, clicca su <code>Logging</code> per modificare le impostazioni.</p>
    <br>
    <br>
    <br>
    <h3>Moduli di formato dei log</h3>
    <br>
    <p>I formati disponibili (supportati LogDoctor) sono:</p>
    <br>
    <ul>
      <li style="padding-bottom:10px"><i>IIS</i></li>
        <p>Valori separati da virgole, non può essere personalizzato. Il nome del file risultate di solito è qualcosa come <code>u_in&lt;DATA&gt;.log</code></p>
      <br>
      <li style="padding-bottom:10px"><i>NCSA</i></li>
        <p>Valori separati da spazi, non può essere personalizzato. Il nome del file risultate di solito è qualcosa come <code>u_nc&lt;DATA&gt;.log</code></p>
      <br>
      <li style="padding-bottom:10px"><i>W3C</i></li>
        <p>Valori separati da spazi, può essere personalizzato scegliendo di quali campi effettuare il log. Il nome del file risultate di solito è qualcosa come <code>u_ex&lt;DATA&gt;.log</code></p>
    </ul>
    <br>
    <br>
    <br>
    <h3>Formati suggeriti</h3>
    <br>
    <p>Il formato suggerito è quello del modulo <i>W3C</i>, in quanto è l'unico che consente di usufruire a pieno delle funzionalità di LogDoctor.</p>
    <p>I campi suggeriti sono i seguenti:</p><br>
      <code>date</code>, <code>time</code>, <code>cs-method</code>, <code>cs-uri-stem</code>, <code>cs-uri-query</code>, <code>c-ip</code>, <code>cs-version</code>, <code>cs(User-Agent)</code>, <code>cs(Cookie)</code>, <code>cs(Referer)</code>, <code>sc-status</code>, <code>sc-bytes</code>, <code>cs-bytes</code>, <code>time-taken</code>
    <br>
    <br>
    <br>
    <h3>Stringa di formato</h3>
    <br>
    <p>Sia il modulo <i>IIS</i> che <i>NCSA</i> sono predefiniti, quindi LogDoctor non necessita che venga specificata una <i>stringa di formato</i>.<br>
    Il modulo <i>W3C</i> può invece essere personalizzato ed è quindi necessario specificare la <i>stringa di formato</i>. Essa può essere trovata in ogni file di log creato da questo modulo, cercando la linea che inizia con <code>#Fields:</code>.</p>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <h2 align="center"><br>Campi di lod per W3C</h2>
    <br>
    <h3><br>Campi considerati da LogDoctor</h3>
    <br>
    <p>Gli unici campi considerati sono quelli che seguono, ovvero solo i dati di questi campi verranno salvati nel database ed usati per le statistiche.</p>
    <br>
    <table border="1" width="100%">
      <tr><th style="width:150px">Codice</th><th>Informazioni</th></tr>
      <tr>
        <td align="center">date</td>
        <td>Data in cui si è verificata l'attività <i>(UTC)</i>.</td>
      </tr>
      <tr>
        <td align="center">time</td>
        <td>Orario in cui si è verificata l'attività <i>(UTC)</i>.</td>
      </tr>
      <tr>
        <td align="center">cs-version</td>
        <td>Il protocollo della richiesta <i>(HTTP/v, HTTPS/v)</i>.</td>
      </tr>
      <tr>
        <td align="center">cs-method</td>
        <td>Il metodo della richiesta <i>(GET, POST, HEAD, ...)</i>.</td>
      </tr>
      <tr>
        <td align="center">cs-uri-stem</td>
        <td>L'URI richiesto, senza la stringa di query.</td>
      </tr>
      <tr>
        <td align="center">cs-uri-query</td>
        <td>La stringa di query (se presente).</td>
      </tr>
      </tr>
      <tr>
        <td align="center">sc-status</td>
        <td>Codice dello Status HTTP.</td>
      </tr>
      <tr>
        <td align="center">cs-bytes</td>
        <td>Numero di Byte ricevuti ed elaborati dal server.</td>
      </tr>
      <tr>
        <td align="center">sc-bytes</td>
        <td>Numero di Byte inviati dal server.</td>
      </tr>
      <tr>
        <td align="center">time-taken</td>
        <td>Il tempo necessario per servire la richiesta, in millisecondi</td>
      </tr>
      <tr>
        <td align="center">cs(Referer)</td>
        <td>Il sito che ha fornito il collegamento per questo sito.</td>
      </tr>
      <tr>
        <td align="center">cs(Cookie)</td>
        <td>Contenuto del cookie inviato o ricevuto (se presente).</td>
      </tr>
      <tr>
        <td align="center">cs(User-Agent)</td>
        <td>Stringa di identificazione del browser o del bot</td>
      </tr>
      <tr>
        <td align="center">c-ip</td>
        <td>Indirizzo IP del client che ha eseguito la richiesta.</td>
    </table>
    <br>
    <br>
    <br>
    <h3>Campi scartati da LogDoctor</h3>
    <br>
    <p>Ogni campo eccetto i precedenti verrà scartato da LogDoctor.<br>
    Nella generazione di una stringa di <i>log di esempio</i>, questi campi appariranno come '<b>DISCARDED</b>'.<br>
    Se non utilizzi i log per altri propositi, è consigliato rimuovere questi campi per velocizzare il processo e ridurre le possibilità di errore.</p>
    <br>
    <br>
    <br>
    <br>
    <h3>Riferimenti</h3>
    <br>
    <ul>
      <li>Configurazione dei log di IIS:<br>
        <a style="color:$LINK$">https://docs.microsoft.com/en-us/iis/manage/provisioning-and-managing-iis/configure-logging-in-iis</a></li><br>
      <li>Presentazione dei moduli di log:<br>
        <a style="color:$LINK$">https://docs.microsoft.com/en-us/previous-versions/iis/6.0-sdk/ms525807(v=vs.90)</a></li><br>
      <li>Il modulo di log per il formato W3C:<br>
        <a style="color:$LINK$">https://docs.microsoft.com/en-us/windows/win32/http/w3c-logging</a></li>
    </ul>
    <br>
    <br>
    <br>
  </body>
</html>
